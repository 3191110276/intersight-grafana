apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: is_environmental
    name: is_environmental_domain
spec:
    annotations:
        list:
            - builtIn: 1
              datasource:
                type: grafana
                uid: -- Grafana --
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 2
    links: []
    panels:
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 0
          id: 50
          panels: []
          title: Power Supply Status
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          description: |-
            Displays the count of active power supplies
            One color per device
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    axisSoftMin: 0
                    barAlignment: 0
                    barWidthFactor: 1
                    drawStyle: bars
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: false
                    stacking:
                        group: A
                        mode: normal
                    thresholdsStyle:
                        mode: "off"
                decimals: 0
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
            overrides: []
          gridPos:
            h: 9
            w: 24
            x: 0
            "y": 1
          id: 80
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.host_name
                  text: Hostname
                  type: string
                - selector: event.status_sum
                  text: Status
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Event"="event"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": {
                          "type": "query",
                          "query": {
                            "queryType": "groupBy",
                            "dataSource": "PhysicalEntities",
                            "granularity": {
                              "type": "duration",
                              "duration": $__interval_ms,
                              "timeZone": "$__timezone"
                            },
                            "intervals": ["${__from:date}/${__to:date}"],
                            "dimensions": [
                              "domain_name",
                              "host_name",
                              "name"
                            ],
                            "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "nested-field",
                              "columnName": "host.name",
                              "outputName": "host_name",
                              "expectedType": "STRING",
                              "path": "$"
                            }],
                            "filter": {
                              "type": "and",
                              "fields": [
                                {
                                  "type": "selector",
                                  "dimension": "instrument.name",
                                  "value": "hw.power_supply"
                                },
                                {
                                  "type": "in",
                                  "dimension": "intersight.domain.name",
                                  "values": [${Domain:doublequote}]
                                }
                              ]
                            },
                            "aggregations": [
                              {
                                "type": "longMin",
                                "name": "hw-status_min-Min",
                                "fieldName": "hw.status_min"
                              }
                            ]
                          }
                        },
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","host_name"],
                        "aggregations": [
                          {
                            "type": "longSum",
                            "name": "status_sum",
                            "fieldName": "hw-status_min-Min"
                          }
                        ]
                      }
                method: POST
          title: Active PSUs per device
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: Status
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 10
          id: 10
          panels: []
          title: Fabric Interconnect Power Consumption
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    axisSoftMin: 0
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: watt
            overrides: []
          gridPos:
            h: 7
            w: 24
            x: 0
            "y": 11
          id: 35
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.hostname
                  text: Hostname
                  type: string
                - selector: event.hw-host-power_max-Max
                  text: Host Power
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Event"="event"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["hostname"],
                        "virtualColumns": [{
                          "type": "nested-field",
                          "columnName": "host.name",
                          "outputName": "hostname",
                          "expectedType": "STRING",
                          "path": "$"
                        }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "network.Element"
                            },
                            {
                              "type": "in",
                              "dimension": "intersight.domain.name",
                              "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.host"
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "doubleMax",
                            "name": "hw-host-power_max-Max",
                            "fieldName": "hw.host.power_max"
                          }
                        ]
                      }
                method: POST
          title: Power consumption per FI (Max)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: Host Power
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 18
          id: 9
          panels: []
          title: Chassis Power Consumption
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    axisSoftMin: 0
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: watt
            overrides: []
          gridPos:
            h: 7
            w: 24
            x: 0
            "y": 19
          id: 34
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: single
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.power_sum
                  text: Power
                  type: number
                - selector: event.host_name
                  text: Name
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Total Input Power"="event.hw-power-Sum"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": {
                          "type": "query",
                          "query": {
                            "queryType": "groupBy",
                            "dataSource": "PhysicalEntities",
                            "granularity": {
                              "type": "duration",
                              "duration": $__interval_ms,
                              "timeZone": "$__timezone"
                            },
                            "intervals": ["${__from:date}/${__to:date}"],
                            "dimensions": [
                              "domain_name",
                              "host_name",
                              "name"
                            ],
                            "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "nested-field",
                              "columnName": "host.name",
                              "outputName": "host_name",
                              "expectedType": "STRING",
                              "path": "$"
                            }],
                            "filter": {
                              "type": "and",
                              "fields": [
                              {
                                "type": "selector",
                                "dimension": "host.type",
                                "value": "equipment.Chassis"
                              },
                              {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                              },
                              {
                                "type": "selector",
                                "dimension": "instrument.name",
                                "value": "hw.power_supply"
                              }
                              ]
                            },
                            "aggregations": [
                              {
                                "type": "longSum",
                                "name": "count",
                                "fieldName": "hw.power_count"
                              },
                              {
                                "type": "doubleSum",
                                "name": "hw.power-Sum",
                                "fieldName": "hw.power"
                              }
                            ],
                            "postAggregations": [
                              {
                                "type": "expression",
                                "name": "hw-power-Avg",
                                "expression": "(\"hw.power-Sum\" / \"count\")"
                              }
                            ]
                          }
                        },
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","host_name"],
                        "aggregations": [
                          {
                            "type": "doubleSum",
                            "name": "power_sum",
                            "fieldName": "hw-power-Avg"
                          }
                        ]
                      }
                method: POST
          title: Power consumption per Chassis (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Name
                rowField: Time
                valueField: Power
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 26
          id: 17
          panels: []
          title: Host Power Consumption
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: watt
            overrides: []
          gridPos:
            h: 7
            w: 24
            x: 0
            "y": 27
          id: 32
          options:
            cellHeight: sm
            footer:
                countRows: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy:
                - desc: true
                  displayName: Average Power
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: event.hostname
                  text: Hostname
                  type: string
                - selector: event.avg-power
                  text: Average Power
                  type: number
                - selector: event.max-power
                  text: Maximum Power
                  type: number
                - selector: event.min-power
                  text: Minimum Power
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Event"="event"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": "all",
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["hostname"],
                        "virtualColumns": [{
                          "type": "nested-field",
                          "columnName": "host.name",
                          "outputName": "hostname",
                          "expectedType": "STRING",
                          "path": "$"
                        }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.host"
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "doubleMin",
                            "name": "min-power",
                            "fieldName": "hw.host.power_min"
                          },
                          {
                            "type": "doubleMax",
                            "name": "max-power",
                            "fieldName": "hw.host.power_max"
                          },
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.host.power_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.host.power-Sum",
                            "fieldName": "hw.host.power"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "avg-power",
                            "expression": "(\"hw.host.power-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: ""
          transformations:
            - id: organize
              options:
                excludeByName: {}
                includeByName: {}
                indexByName:
                    Average Power: 2
                    Hostname: 0
                    Maximum Power: 3
                    Minimum Power: 1
                renameByName: {}
          type: table
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 34
          id: 18
          panels: []
          title: Fabric Interconnect Fan Speed
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: rotrpm
            overrides: []
          gridPos:
            h: 8
            w: 24
            x: 0
            "y": 35
          id: 40
          maxDataPoints: 500
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.fan_speed
                  text: FanSpeed
                  type: number
                - selector: event.domain_name
                  text: Domain
                  type: string
                - selector: event.host_name
                  text: Hostname
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","host_name"],
                        "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "nested-field",
                              "columnName": "host.name",
                              "outputName": "host_name",
                              "expectedType": "STRING",
                              "path": "$"
                            }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "network.Element"
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.fan"
                            }
                          ]
                        },
                        "aggregations": [
                              {
                                "type": "longSum",
                                "name": "count",
                                "fieldName": "hw.fan.speed_count"
                              },
                              {
                                "type": "longSum",
                                "name": "hw.fan.speed-Sum",
                                "fieldName": "hw.fan.speed"
                              }
                        ],
                        "postAggregations": [
                              {
                                "type": "expression",
                                "name": "fan_speed",
                                "expression": "(\"hw.fan.speed-Sum\" / \"count\")"
                              }
                        ]
                      }
                method: POST
          title: Fan Speed per FI (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: FanSpeed
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 43
          id: 19
          panels: []
          title: Chassis Fan Speed
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    axisSoftMin: 0
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: rotrpm
            overrides: []
          gridPos:
            h: 7
            w: 24
            x: 0
            "y": 44
          id: 31
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.host_name
                  text: Hostname
                  type: string
                - selector: event.fan_speed
                  text: Fan Speed
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","host_name"],
                        "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "nested-field",
                              "columnName": "host.name",
                              "outputName": "host_name",
                              "expectedType": "STRING",
                              "path": "$"
                            }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                              "type": "in",
                              "dimension": "intersight.domain.name",
                              "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "equipment.Chassis"
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.fan"
                            }
                          ]
                        },
                            "aggregations": [
                              {
                                "type": "longSum",
                                "name": "count",
                                "fieldName": "hw.fan.speed_count"
                              },
                              {
                                "type": "longSum",
                                "name": "hw.fan.speed-Sum",
                                "fieldName": "hw.fan.speed"
                              }
                            ],
                            "postAggregations": [
                              {
                                "type": "expression",
                                "name": "fan_speed",
                                "expression": "(\"hw.fan.speed-Sum\" / \"count\")"
                              }
                            ]
                      }
                method: POST
          title: Fan speed per Chassis (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: Fan Speed
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 51
          id: 20
          panels: []
          title: Fabric Interconnect Temperature
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: celsius
            overrides:
                - matcher:
                    id: byName
                    options: Heavenly
                  properties:
                    - id: displayName
                      value: ASIC
                - matcher:
                    id: byName
                    options: Homewood
                  properties:
                    - id: displayName
                      value: ASIC
          gridPos:
            h: 7
            w: 12
            x: 0
            "y": 52
          id: 38
          maxDataPoints: 500
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.hw-temperature-Avg
                  text: Temperature
                  type: number
                - selector: event.host_name
                  text: Hostname
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: "  {\n    \"queryType\": \"groupBy\",\n    \"dataSource\": \"PhysicalEntities\",\n    \"granularity\": {\n      \"type\": \"duration\",\n      \"duration\": $__interval_ms,\n      \"timeZone\": \"$__timezone\"\n    },\n    \"intervals\": [\"${__from:date}/${__to:date}\"],\n    \"dimensions\": [\"host_name\"],\n    \"virtualColumns\": [{\n          \"type\": \"nested-field\",\n          \"columnName\": \"host.name\",\n          \"outputName\": \"host_name\",\n          \"expectedType\": \"STRING\",\n          \"path\": \"$\"\n    }],\n    \"filter\": {\n      \"type\": \"and\",\n      \"fields\": [\n        {\n            \"type\": \"in\",\n            \"dimension\": \"intersight.domain.name\",\n            \"values\": [${Domain:doublequote}]\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"host.type\",\n          \"value\": \"network.Element\"\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"instrument.name\",\n          \"value\": \"hw.temperature\"\n        },\n        { \"type\": \"not\", \"field\": \n        {\n          \"type\": \"search\",\n          \"dimension\": \"sensor_location\",\n          \"query\": {\n            \"type\": \"insensitive_contains\",\n            \"value\": \"fi_transceiver\"\n          }\n        }\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"name\",\n          \"value\": \"BACK\"\n        }\n      ]\n    },\n    \"aggregations\": [\n      {\n        \"type\": \"longSum\",\n        \"name\": \"count\",\n        \"fieldName\": \"hw.temperature_count\"\n      },\n      {\n        \"type\": \"doubleSum\",\n        \"name\": \"hw.temperature-Sum\",\n        \"fieldName\": \"hw.temperature\"\n      }\n    ],\n    \"postAggregations\": [\n      {\n        \"type\": \"expression\",\n        \"name\": \"hw-temperature-Avg\",\n        \"expression\": \"(\\\"hw.temperature-Sum\\\" / \\\"count\\\")\"\n      }\n    ]\n  }"
                method: POST
          title: Intake Temperature (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: Temperature
          type: timeseries
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                unit: celsius
            overrides:
                - matcher:
                    id: byName
                    options: Heavenly
                  properties:
                    - id: displayName
                      value: ASIC
                - matcher:
                    id: byName
                    options: Homewood
                  properties:
                    - id: displayName
                      value: ASIC
          gridPos:
            h: 7
            w: 12
            x: 12
            "y": 52
          id: 81
          maxDataPoints: 500
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.hw-temperature-Avg
                  text: Temperature
                  type: number
                - selector: event.host_name
                  text: Hostname
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: "  {\n    \"queryType\": \"groupBy\",\n    \"dataSource\": \"PhysicalEntities\",\n    \"granularity\": {\n      \"type\": \"duration\",\n      \"duration\": $__interval_ms,\n      \"timeZone\": \"$__timezone\"\n    },\n    \"intervals\": [\"${__from:date}/${__to:date}\"],\n    \"dimensions\": [\"host_name\"],\n    \"virtualColumns\": [{\n          \"type\": \"nested-field\",\n          \"columnName\": \"host.name\",\n          \"outputName\": \"host_name\",\n          \"expectedType\": \"STRING\",\n          \"path\": \"$\"\n    }],\n    \"filter\": {\n      \"type\": \"and\",\n      \"fields\": [\n        {\n            \"type\": \"in\",\n            \"dimension\": \"intersight.domain.name\",\n            \"values\": [${Domain:doublequote}]\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"host.type\",\n          \"value\": \"network.Element\"\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"instrument.name\",\n          \"value\": \"hw.temperature\"\n        },\n        { \"type\": \"not\", \"field\": \n        {\n          \"type\": \"search\",\n          \"dimension\": \"sensor_location\",\n          \"query\": {\n            \"type\": \"insensitive_contains\",\n            \"value\": \"fi_transceiver\"\n          }\n        }\n        },\n        {\n          \"type\": \"selector\",\n          \"dimension\": \"name\",\n          \"value\": \"FRONT\"\n        }\n      ]\n    },\n    \"aggregations\": [\n      {\n        \"type\": \"longSum\",\n        \"name\": \"count\",\n        \"fieldName\": \"hw.temperature_count\"\n      },\n      {\n        \"type\": \"doubleSum\",\n        \"name\": \"hw.temperature-Sum\",\n        \"fieldName\": \"hw.temperature\"\n      }\n    ],\n    \"postAggregations\": [\n      {\n        \"type\": \"expression\",\n        \"name\": \"hw-temperature-Avg\",\n        \"expression\": \"(\\\"hw.temperature-Sum\\\" / \\\"count\\\")\"\n      }\n    ]\n  }"
                method: POST
          title: Exhaust Temperature (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Hostname
                rowField: Time
                valueField: Temperature
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 59
          id: 44
          panels: []
          title: Chassis Temperature
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          description: This is calculated based on the average blade intake temperature sensors
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineStyle:
                        fill: solid
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: area
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: transparent
                        - color: '#EAB839'
                          value: 50
                        - color: dark-red
                          value: 60
                unit: celsius
            overrides:
                - matcher:
                    id: byName
                    options: Average
                  properties:
                    - id: color
                      value:
                        fixedColor: purple
                        mode: fixed
                - matcher:
                    id: byName
                    options: Minimum
                  properties:
                    - id: color
                      value:
                        fixedColor: super-light-purple
                        mode: fixed
                - matcher:
                    id: byName
                    options: Maximum
                  properties:
                    - id: color
                      value:
                        fixedColor: dark-purple
                        mode: fixed
          gridPos:
            h: 7
            w: 12
            x: 0
            "y": 60
          id: 45
          maxDataPoints: 500
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.hw-temperature-Avg
                  text: Average
                  type: number
                - selector: event.chassis_name
                  text: Chassis Name
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","chassis_name"],
                        "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "expression",
                              "name": "chassis_name",
                              "expression": "substring(\"host.name\",0,strlen(\"host.name\")-2)",
                              "expectedType": "STRING"
                            }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.temperature"
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                              "type": "selector",
                              "dimension": "name",
                              "value": "TEMP_FRONT"
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.temperature_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.temperature-Sum",
                            "fieldName": "hw.temperature"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "hw-temperature-Avg",
                            "expression": "(\"hw.temperature-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: Intake Temperature (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Chassis Name
                rowField: Time
                valueField: Average
          type: timeseries
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          description: This is calculated based on the average blade exhaust temperature sensors
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineStyle:
                        fill: solid
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: auto
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: area
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: transparent
                        - color: '#EAB839'
                          value: 90
                        - color: dark-red
                          value: 100
                unit: celsius
            overrides:
                - matcher:
                    id: byName
                    options: Average
                  properties:
                    - id: color
                      value:
                        fixedColor: purple
                        mode: fixed
                - matcher:
                    id: byName
                    options: Minimum
                  properties:
                    - id: color
                      value:
                        fixedColor: super-light-purple
                        mode: fixed
                - matcher:
                    id: byName
                    options: Maximum
                  properties:
                    - id: color
                      value:
                        fixedColor: dark-purple
                        mode: fixed
          gridPos:
            h: 7
            w: 12
            x: 12
            "y": 60
          id: 46
          maxDataPoints: 500
          options:
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                hideZeros: false
                mode: multi
                sort: none
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: timestamp
                  text: Time
                  type: timestamp
                - selector: event.hw-temperature-Avg
                  text: Temperature
                  type: number
                - selector: event.chassis_name
                  text: Chassis Name
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": {
                          "type": "duration",
                          "duration": $__interval_ms,
                          "timeZone": "$__timezone"
                        },
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["domain_name","chassis_name"],
                        "virtualColumns": [{
                              "type": "nested-field",
                              "columnName": "intersight.domain.name",
                              "outputName": "domain_name",
                              "expectedType": "STRING",
                              "path": "$"
                            },{
                              "type": "expression",
                              "name": "chassis_name",
                              "expression": "substring(\"host.name\",0,strlen(\"host.name\")-2)",
                              "expectedType": "STRING"
                            }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.temperature"
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                              "type": "in",
                              "dimension": "name",
                              "values": [
                                "TEMP_REAR_BOT",
                                "TEMP_REAR_MID",
                                "TEMP_REAR_TOP"
                              ]
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.temperature_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.temperature-Sum",
                            "fieldName": "hw.temperature"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "hw-temperature-Avg",
                            "expression": "(\"hw.temperature-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: Exhaust Temperature (Avg)
          transformations:
            - id: groupingToMatrix
              options:
                columnField: Chassis Name
                rowField: Time
                valueField: Temperature
          type: timeseries
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 67
          id: 21
          panels: []
          title: Host Temperature
          type: row
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: color-text
                    filterable: true
                    inspect: false
                fieldMinMax: false
                mappings: []
                min: 0
                thresholds:
                    mode: absolute
                    steps:
                        - color: text
                        - color: '#EAB839'
                          value: 50
                        - color: dark-red
                          value: 60
                unit: celsius
            overrides: []
          gridPos:
            h: 12
            w: 8
            x: 0
            "y": 68
          id: 47
          maxDataPoints: 500
          options:
            cellHeight: sm
            footer:
                countRows: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy:
                - desc: true
                  displayName: Average Temperature
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: event.hostname
                  text: Hostname
                  type: string
                - selector: event.max_temp
                  text: Maximum Temperature
                  type: number
                - selector: event.avg_temp
                  text: Average Temperature
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": "all",
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["hostname"],
                        "virtualColumns": [{
                          "type": "nested-field",
                          "columnName": "host.name",
                          "outputName": "hostname",
                          "expectedType": "STRING",
                          "path": "$"
                        }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.temperature"
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                              "type": "selector",
                              "dimension": "name",
                              "value": "TEMP_FRONT"
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "doubleMax",
                            "name": "max_temp",
                            "fieldName": "hw.temperature_max"
                          },
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.temperature_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.temperature-Sum",
                            "fieldName": "hw.temperature"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "avg_temp",
                            "expression": "(\"hw.temperature-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: Intake Temperature
          transformations:
            - id: organize
              options:
                excludeByName: {}
                includeByName: {}
                indexByName:
                    Average Temperature: 1
                    Hostname: 0
                    Maximum Temperature: 2
                renameByName: {}
          type: table
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: color-text
                    filterable: true
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: text
                        - color: '#EAB839'
                          value: 101
                unit: celsius
            overrides:
                - matcher:
                    id: byName
                    options: CPU
                  properties:
                    - id: mappings
                      value:
                        - options:
                            pattern: ^P([0-9]+)_TEMP_SENS$
                            result:
                                index: 0
                                text: $1
                          type: regex
                    - id: custom.width
                      value: 70
                    - id: custom.align
                      value: center
          gridPos:
            h: 12
            w: 8
            x: 8
            "y": 68
          id: 82
          maxDataPoints: 500
          options:
            cellHeight: sm
            footer:
                countRows: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy:
                - desc: true
                  displayName: Average Temperature
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: event.hostname
                  text: Hostname
                  type: string
                - selector: event.max_temp
                  text: Maximum Temperature
                  type: number
                - selector: event.avg_temp
                  text: Average Temperature
                  type: number
                - selector: event.name
                  text: CPU
                  type: string
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": "all",
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["hostname", "name"],
                        "virtualColumns": [{
                          "type": "nested-field",
                          "columnName": "host.name",
                          "outputName": "hostname",
                          "expectedType": "STRING",
                          "path": "$"
                        }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.temperature"
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                              "type": "in",
                              "dimension": "name",
                              "values": [
                                "P1_TEMP_SENS",
                                "P2_TEMP_SENS"
                              ]
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "doubleMax",
                            "name": "max_temp",
                            "fieldName": "hw.temperature_max"
                          },
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.temperature_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.temperature-Sum",
                            "fieldName": "hw.temperature"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "avg_temp",
                            "expression": "(\"hw.temperature-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: CPU Temperature
          transformations:
            - id: organize
              options:
                excludeByName: {}
                includeByName: {}
                indexByName:
                    Average Temperature: 2
                    CPU: 1
                    Hostname: 0
                    Maximum Temperature: 3
                renameByName: {}
          type: table
        - datasource:
            type: yesoreyeram-infinity-datasource
            uid: ${DataSource}
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: color-text
                    filterable: true
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: text
                        - color: '#EAB839'
                          value: 90
                        - color: dark-red
                          value: 100
                unit: celsius
            overrides: []
          gridPos:
            h: 12
            w: 8
            x: 16
            "y": 68
          id: 83
          maxDataPoints: 500
          options:
            cellHeight: sm
            footer:
                countRows: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
            sortBy:
                - desc: true
                  displayName: Average Temperature
          pluginVersion: 11.6.0-84846
          targets:
            - columns:
                - selector: event.hostname
                  text: Hostname
                  type: string
                - selector: event.max_temp
                  text: Maximum Temperature
                  type: number
                - selector: event.avg_temp
                  text: Average Temperature
                  type: number
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              filters: []
              format: table
              global_query_id: ""
              parser: backend
              refId: A
              root_selector: ""
              source: url
              summarizeAlias: ""
              summarizeBy: ""
              summarizeExpression: ""
              type: json
              uql: |-
                parse-json
                | project "Timestamp"=todatetime("timestamp"), "Fan Speed"="event.hw-fan-speed_max-Max", "Name"="event.name"
              url: /api/v1/telemetry/TimeSeries
              url_options:
                body_content_type: application/json
                body_type: raw
                data: |4-
                      {
                        "queryType": "groupBy",
                        "dataSource": "PhysicalEntities",
                        "granularity": "all",
                        "intervals": ["${__from:date}/${__to:date}"],
                        "dimensions": ["hostname"],
                        "virtualColumns": [{
                          "type": "nested-field",
                          "columnName": "host.name",
                          "outputName": "hostname",
                          "expectedType": "STRING",
                          "path": "$"
                        }],
                        "filter": {
                          "type": "and",
                          "fields": [
                            {
                                "type": "in",
                                "dimension": "intersight.domain.name",
                                "values": [${Domain:doublequote}]
                            },
                            {
                              "type": "selector",
                              "dimension": "instrument.name",
                              "value": "hw.temperature"
                            },
                            {
                              "type": "selector",
                              "dimension": "host.type",
                              "value": "compute.Blade"
                            },
                            {
                              "type": "in",
                              "dimension": "name",
                              "values": [
                                "TEMP_REAR_BOT",
                                "TEMP_REAR_MID",
                                "TEMP_REAR_TOP"
                              ]
                            }
                          ]
                        },
                        "aggregations": [
                          {
                            "type": "doubleMax",
                            "name": "max_temp",
                            "fieldName": "hw.temperature_max"
                          },
                          {
                            "type": "longSum",
                            "name": "count",
                            "fieldName": "hw.temperature_count"
                          },
                          {
                            "type": "doubleSum",
                            "name": "hw.temperature-Sum",
                            "fieldName": "hw.temperature"
                          }
                        ],
                        "postAggregations": [
                          {
                            "type": "expression",
                            "name": "avg_temp",
                            "expression": "(\"hw.temperature-Sum\" / \"count\")"
                          }
                        ]
                      }
                method: POST
          title: Exhaust Temperature
          transformations:
            - id: organize
              options:
                excludeByName: {}
                includeByName: {}
                indexByName:
                    Average Temperature: 1
                    Hostname: 0
                    Maximum Temperature: 2
                renameByName: {}
          type: table
    preload: false
    refresh: ""
    schemaVersion: 41
    tags:
        - intersight
    templating:
        list:
            - current:
                text: tme-dev
                value: eeca0h99fql1cd
              label: Data Source
              name: DataSource
              options: []
              query: yesoreyeram-infinity-datasource
              refresh: 1
              regex: ""
              type: datasource
            - current:
                text: int-tme-ucs-10
                value: int-tme-ucs-10
              datasource:
                type: yesoreyeram-infinity-datasource
                uid: ${DataSource}
              definition: ""
              label: Domain
              multi: true
              name: Domain
              options: []
              query:
                infinityQuery:
                    columns: []
                    filters: []
                    format: table
                    parser: uql
                    refId: variable
                    root_selector: ""
                    source: url
                    type: json
                    uql: |-
                        parse-json
                        | scope "Results"
                        | project "Name"
                    url: /api/v1/network/ElementSummaries?$filter=ManagementMode eq 'Intersight'
                    url_options:
                        data: ""
                        method: GET
                query: ""
                queryType: infinity
              refresh: 1
              regex: (.*) FI-A
              type: query
    time:
        from: now-30d
        to: now
    timepicker:
        nowDelay: 1m
        refresh_intervals:
            - 20s
            - 1m
            - 5m
            - 15m
            - 30m
            - 1h
            - 2h
            - 1d
    timezone: Europe/Vienna
    title: Domain Power, Cooling, Temperature
    uid: is_environmental_domain
